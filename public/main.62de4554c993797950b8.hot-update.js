/*! For license information please see main.62de4554c993797950b8.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/lodash/map.js"),h=s.n(i),r=s("./node_modules/ogl/src/core/Transform.js"),l=s("./node_modules/ogl/src/extras/Plane.js"),o=s("./node_modules/gsap/index.js"),n=s("./app/components/Canvas/Home/Media.js");const a=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.scene=new r.Transform,this.galleryElement=document.querySelector(".home_gallery"),this.mediasElements=document.querySelectorAll(".home_gallery_media_image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.scene.setParent(e),this.show()}createGeometry(){this.geometry=new l.Plane(this.gl)}createGallery(){this.medias=h()(this.mediasElements,((t,e)=>new n.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.scene,sizes:this.sizes})))}show(){h()(this.medias,(t=>t.show()))}hide(){h()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,h()(this.medias,(e=>{e.onResize(t,this.scroll)}))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){this.galleryBounds&&(this.x.current=o.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=o.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,h()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll)})))}destroy(){this.scene.removeChild(this.scene)}}}},(function(t){t.h=()=>"8ec364e53a0f27351c12"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi42MmRlNDU1NGM5OTM3OTc5NTBiOC5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7aVdBS0EsY0FDRUEsYUFBWSxHQUFFQyxFQUFFLE1BQUVDLEVBQUssTUFBRUMsSUFDdkJDLEtBQUtILEdBQUtBLEVBQ1ZHLEtBQUtGLE1BQVFBLEVBQ2JFLEtBQUtELE1BQVFBLEVBQ2JDLEtBQUtGLE1BQVEsSUFBSUcsRUFBQUEsVUFHakJELEtBQUtFLGVBQWlCQyxTQUFTQyxjQUFjLGlCQUM3Q0osS0FBS0ssZUFBaUJGLFNBQVNHLGlCQUFpQiw2QkFFaEROLEtBQUtPLEVBQUksQ0FDUEMsUUFBUyxFQUNUQyxPQUFRLEVBQ1JDLEtBQU0sSUFHUlYsS0FBS1csRUFBSSxDQUNQSCxRQUFTLEVBQ1RDLE9BQVEsRUFDUkMsS0FBTSxJQUdSVixLQUFLWSxjQUFnQixDQUNuQkwsRUFBRyxFQUNISSxFQUFHLEdBR0xYLEtBQUthLE9BQVMsQ0FDWk4sRUFBRyxFQUNISSxFQUFHLEdBR0xYLEtBQUtjLGlCQUNMZCxLQUFLZSxnQkFHTGYsS0FBS0YsTUFBTWtCLFVBQVVsQixHQUVyQkUsS0FBS2lCLE1BQ1AsQ0FFQUgsaUJBQ0VkLEtBQUtrQixTQUFXLElBQUlDLEVBQUFBLE1BQU1uQixLQUFLSCxHQUNqQyxDQUVBa0IsZ0JBQ0VmLEtBQUtvQixPQUFTQyxJQUFJckIsS0FBS0ssZ0JBQWdCLENBQUNpQixFQUFTQyxJQUN4QyxJQUFJQyxFQUFBQSxRQUFNLENBQ2ZGLFVBQ0FKLFNBQVVsQixLQUFLa0IsU0FDZkssUUFDQTFCLEdBQUlHLEtBQUtILEdBQ1RDLE1BQU9FLEtBQUtGLE1BQ1pDLE1BQU9DLEtBQUtELFNBR2xCLENBTUFrQixPQUNFSSxJQUFJckIsS0FBS29CLFFBQVNLLEdBQVVBLEVBQU1SLFFBQ3BDLENBRUFTLE9BQ0VMLElBQUlyQixLQUFLb0IsUUFBU0ssR0FBVUEsRUFBTUMsUUFDcEMsQ0FNQUMsU0FBU0MsR0FDUDVCLEtBQUs2QixjQUFnQjdCLEtBQUtFLGVBQWU0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QUFBLE9BQTZCLEtBQVZTLEtBQUtDLEdBQXFCLElBQVZELEtBQUtDLElBRXBFLENBRUEsTUFBTUMsRUFBU2xDLEVBQU0wQixLQUFLQyxNQUFNekMsRUFBSSxFQUVwQyxHQUF5QixRQUFyQlgsS0FBS1csRUFBRXNDLFVBQXFCLENBQ3BCeEIsRUFBTTBCLEtBQUtFLFNBQVMxQyxFQUFJZ0QsR0FFekIzRCxLQUFLRCxNQUFNb0MsT0FBUyxJQUMzQlYsRUFBTTZCLE1BQU0zQyxHQUFLWCxLQUFLK0IsYUFBYUksT0FDbkNWLEVBQU0wQixLQUFLSSxTQUFTQyxFQUFJUixFQUFBQSxRQUFBQSxNQUFBQSxPQUE2QixLQUFWUyxLQUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUVwRSxNQUFPLEdBQXlCLFdBQXJCMUQsS0FBS1csRUFBRXNDLFVBQXdCLENBQzlCeEIsRUFBTTBCLEtBQUtFLFNBQVMxQyxFQUFJZ0QsRUFFMUIzRCxLQUFLRCxNQUFNb0MsT0FBUyxJQUMxQlYsRUFBTTZCLE1BQU0zQyxHQUFLWCxLQUFLK0IsYUFBYUksT0FDbkNWLEVBQU0wQixLQUFLSSxTQUFTQyxFQUFJUixFQUFBQSxRQUFBQSxNQUFBQSxPQUE2QixLQUFWUyxLQUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUVwRSxDQUVBakMsRUFBTXNCLE9BQU8vQyxLQUFLYSxPQUFPLElBRTdCLENBS0ErQyxVQUVFNUQsS0FBS0YsTUFBTStELFlBQVk3RCxLQUFLRixNQUM5QixrQkM5TEZnRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFwIGZyb20gXCJsb2Rhc2gvbWFwXCI7XHJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tIFwib2dsXCI7XHJcbmltcG9ydCBHU0FQIGZyb20gXCJnc2FwXCI7XHJcbmltcG9ydCBNZWRpYSBmcm9tIFwiLi9NZWRpYVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XHJcbiAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7IC8vIHNjZW5lIHRoaXMuc2NlbmUgaXMgYSBUcmFuc2Zvcm0oKSBvYmplY3RcclxuICAgIHRoaXMuc2l6ZXMgPSBzaXplcztcclxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVHJhbnNmb3JtKCk7IC8vIHNjZW5lIGlzIGEgVHJhbnNmb3JtKCkgb2JqZWN0IC8vIHRlc3QgbGluZSB3b3Jrc1xyXG4gICAgLy8gdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKTsgLy8gZ3JvdXAgaXQgZG9lc24ndCB3b3JrXHJcblxyXG4gICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZV9nYWxsZXJ5XCIpO1xyXG4gICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaG9tZV9nYWxsZXJ5X21lZGlhX2ltYWdlXCIpO1xyXG5cclxuICAgIHRoaXMueCA9IHtcclxuICAgICAgY3VycmVudDogMCxcclxuICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICBsZXJwOiAwLjEsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMueSA9IHtcclxuICAgICAgY3VycmVudDogMCxcclxuICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICBsZXJwOiAwLjEsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudCA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcclxuICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpO1xyXG5cclxuICAgIC8vIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHNjZW5lKTsgLy8gZ3JvdXAgaXQgZG9lc24ndCB3b3JrXHJcbiAgICB0aGlzLnNjZW5lLnNldFBhcmVudChzY2VuZSk7IC8vIHNjZW5lIHNldFBhcmVudCB3b3JrcyBcclxuXHJcbiAgICB0aGlzLnNob3coKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUdlb21ldHJ5KCkge1xyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUdhbGxlcnkoKSB7XHJcbiAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XHJcbiAgICAgICAgZWxlbWVudCxcclxuICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICBpbmRleCxcclxuICAgICAgICBnbDogdGhpcy5nbCxcclxuICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcclxuICAgICAgICBzaXplczogdGhpcy5zaXplcyxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuaW1hdGlvbnMuXHJcbiAgICovXHJcblxyXG4gIHNob3coKSB7XHJcbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4gbWVkaWEuc2hvdygpKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4gbWVkaWEuaGlkZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50cy5cclxuICAgKi9cclxuXHJcbiAgb25SZXNpemUoZXZlbnQpIHtcclxuICAgIHRoaXMuZ2FsbGVyeUJvdW5kcyA9IHRoaXMuZ2FsbGVyeUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzO1xyXG5cclxuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xyXG4gICAgICB3aWR0aDogdGhpcy5nYWxsZXJ5Qm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnNpemVzLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnNpemVzLmhlaWdodCxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjcm9sbC54ID0gdGhpcy54LnRhcmdldCA9IDA7XHJcbiAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LnRhcmdldCA9IDA7XHJcblxyXG4gICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEpID0+IHsgbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsKSB9KTtcclxuICB9XHJcblxyXG4gIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XHJcbiAgICB0aGlzLnNjcm9sbEN1cnJlbnQueCA9IHRoaXMuc2Nyb2xsLng7XHJcbiAgICB0aGlzLnNjcm9sbEN1cnJlbnQueSA9IHRoaXMuc2Nyb2xsLnk7XHJcbiAgfVxyXG5cclxuICBvblRvdWNoTW92ZSh7IHgsIHkgfSkge1xyXG4gICAgY29uc3QgZGlzdGFuY2VYID0geC5zdGFydCAtIHguZW5kO1xyXG4gICAgY29uc3QgZGlzdGFuY2VZID0geS5zdGFydCAtIHkuZW5kO1xyXG5cclxuICAgIHRoaXMueC50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueCAtIGRpc3RhbmNlWDtcclxuICAgIHRoaXMueS50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueSAtIGRpc3RhbmNlWTtcclxuICB9XHJcblxyXG4gIG9uVG91Y2hVcCh7IHgsIHkgfSkgeyB9XHJcblxyXG4gIG9uV2hlZWwoeyBwaXhlbFgsIHBpeGVsWSB9KSB7XHJcbiAgICB0aGlzLngudGFyZ2V0ICs9IHBpeGVsWDtcclxuICAgIHRoaXMueS50YXJnZXQgKz0gcGl4ZWxZO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlLlxyXG4gICAqL1xyXG5cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuZ2FsbGVyeUJvdW5kcykgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMueC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnguY3VycmVudCwgdGhpcy54LnRhcmdldCwgdGhpcy54LmxlcnApO1xyXG4gICAgdGhpcy55LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueS5jdXJyZW50LCB0aGlzLnkudGFyZ2V0LCB0aGlzLnkubGVycCk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2Nyb2xsLnggPCB0aGlzLnguY3VycmVudCkge1xyXG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gXCJyaWdodFwiO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC54ID4gdGhpcy54LmN1cnJlbnQpIHtcclxuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9IFwibGVmdFwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMuZ2FsbGVyeUhlaWdodCA9IHRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnNpemVzLmhlaWdodDtcclxuXHJcbiAgICBpZiAodGhpcy5zY3JvbGwueSA8IHRoaXMueS5jdXJyZW50KSB7XHJcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSBcInRvcFwiO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC55ID4gdGhpcy55LmN1cnJlbnQpIHtcclxuICAgICAgdGhpcy55LmRpcmVjdGlvbiA9IFwiYm90dG9tXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC5jdXJyZW50O1xyXG4gICAgdGhpcy5zY3JvbGwueSA9IHRoaXMueS5jdXJyZW50O1xyXG5cclxuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBzY2FsZVggPSBtZWRpYS5tZXNoLnNjYWxlLnggLyAyO1xyXG5cclxuICAgICAgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWDtcclxuXHJcbiAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgIG1lZGlhLmV4dHJhLnggKz0gdGhpcy5nYWxsZXJ5U2l6ZXMud2lkdGg7XHJcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWDtcclxuXHJcbiAgICAgICAgaWYgKHggPiB0aGlzLnNpemVzLndpZHRoIC8gMikge1xyXG4gICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aDtcclxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc2NhbGVZID0gbWVkaWEubWVzaC5zY2FsZS55IC8gMjtcclxuXHJcbiAgICAgIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSBcInRvcFwiKSB7XHJcbiAgICAgICAgY29uc3QgeSA9IG1lZGlhLm1lc2gucG9zaXRpb24ueSArIHNjYWxlWTtcclxuXHJcbiAgICAgICAgaWYgKHkgPCAtdGhpcy5zaXplcy5oZWlnaHQgLyAyKSB7XHJcbiAgICAgICAgICBtZWRpYS5leHRyYS55ICs9IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodDtcclxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSBcImJvdHRvbVwiKSB7XHJcbiAgICAgICAgY29uc3QgeSA9IG1lZGlhLm1lc2gucG9zaXRpb24ueSAtIHNjYWxlWTtcclxuXHJcbiAgICAgICAgaWYgKHkgPiB0aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcclxuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgLT0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0O1xyXG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95LlxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICAvLyB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApO1xyXG4gICAgdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0aGlzLnNjZW5lKTtcclxuICB9XHJcbn1cclxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiOGVjMzY0ZTUzYTBmMjczNTFjMTJcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0aGlzIiwiVHJhbnNmb3JtIiwiZ2FsbGVyeUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZWRpYXNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImxlcnAiLCJ5Iiwic2Nyb2xsQ3VycmVudCIsInNjcm9sbCIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsInNldFBhcmVudCIsInNob3ciLCJnZW9tZXRyeSIsIlBsYW5lIiwibWVkaWFzIiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiTWVkaWEiLCJtZWRpYSIsImhpZGUiLCJvblJlc2l6ZSIsImV2ZW50IiwiZ2FsbGVyeUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdhbGxlcnlTaXplcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0Iiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsImRpc3RhbmNlWCIsInN0YXJ0IiwiZW5kIiwiZGlzdGFuY2VZIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsInVwZGF0ZSIsIkdTQVAiLCJkaXJlY3Rpb24iLCJzY2FsZVgiLCJtZXNoIiwic2NhbGUiLCJwb3NpdGlvbiIsImV4dHJhIiwicm90YXRpb24iLCJ6IiwiTWF0aCIsIlBJIiwic2NhbGVZIiwiZGVzdHJveSIsInJlbW92ZUNoaWxkIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9