/*! For license information please see main.581032870926b268e73c.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Collections/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var l=s("./node_modules/lodash/map.js"),i=s.n(l),r=s("./node_modules/ogl/src/core/Transform.js"),o=s("./node_modules/ogl/src/extras/Plane.js"),n=s("./node_modules/gsap/index.js"),c=s("./node_modules/prefix/index.js"),a=s.n(c),h=s("./app/components/Canvas/Collections/Media.js");const d=class{constructor({gl:e,scene:t,sizes:s,index:l}){this.gl=e,this.scene=t,this.sizes=s,this.transformPrefix=a()("transform"),this.scene=new r.Transform,this.galleryElement=document.querySelector(".collections_gallery"),this.galleryWrapperElement=document.querySelector(".collections_gallery_wrapper"),this.collectionElements=document.querySelectorAll(".collections_article"),this.collectionElementsActive="collections_article--active",this.titlesElements=document.querySelector(".collections_titles"),this.mediasElements=document.querySelectorAll(".collections_gallery_media"),this.scroll={current:0,target:0,start:0,lerp:.1,velocity:1},this.createGeometry(),this.createGallery(),this.scene.setParent(t),this.show()}createGeometry(){this.geometry=new o.Plane(this.gl)}createGallery(){this.medias=i()(this.mediasElements,((e,t)=>new h.default({element:e,geometry:this.geometry,index:t,gl:this.gl,scene:this.scene,sizes:this.sizes})))}show(){i()(this.medias,(e=>e.show()))}hide(){i()(this.medias,(e=>e.hide()))}onResize(e){this.sizes=e.sizes,this.bounds=this.galleryWrapperElement.getBoundingClientRect(),this.scroll.last=this.scroll.target=0,this.scroll.limit=this.bounds.width-this.medias[0].element.clientWidth,i()(this.medias,(t=>{t.onResize(e,this.scroll)}))}onTouchDown({x:e,y:t}){this.scroll.last=this.scroll.current}onTouchMove({x:e,y:t}){const s=e.start-e.end;this.scroll.target=this.scroll.last-s}onTouchUp({x:e,y:t}){}onWheel({pixelY:e}){this.scroll.target+=e}onChange(e){this.index=e;const t=parseInt(this.mediasElements[this.index].getAttribute("data-index"));i()(this.collectionElements,((e,s)=>{s===t?e.classList.add(this.collectionElementsActive):e.classList.remove(this.collectionElementsActive)})),this.titlesElements.style[this.transformPrefix]=`translateY(${150*t}%) translate(-50%,-270%) rotate(-90deg)`}update(){if(!this.bounds)return;this.scroll.target=n.default.utils.clamp(-this.scroll.limit,0,this.scroll.target),this.scroll.current=n.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),this.galleryElement.style[this.transformPrefix]=`translateX(${this.scroll.current}px, 0, 0)`,this.scroll.last<this.scroll.current?this.scroll.direction="right":this.scroll.last>this.scroll.current&&(this.scroll.direction="left"),this.scroll.last=this.scroll.current,i()(this.medias,((e,t)=>{e.update(this.scroll.current)}));const e=Math.floor(Math.abs(this.scroll.current/this.scroll.limit)*this.medias.length);this.index!==e&&this.onChange(e)}destroy(){this.scene.removeChild(this.scene)}}}},(function(e){e.h=()=>"57cfdae1fde126105046"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBa0IxRCxLQUFLYSxPQUFPdUIsTUFBTyxFQUFHcEMsS0FBS2EsT0FBT0UsUUFFekVmLEtBQUthLE9BQU9DLFFBQVU0QyxFQUFBQSxRQUFBQSxNQUFBQSxZQUF1QjFELEtBQUthLE9BQU9DLFFBQVNkLEtBQUthLE9BQU9FLE9BQVFmLEtBQUthLE9BQU9JLE1BRWxHakIsS0FBS0ksZUFBZW9ELE1BQU14RCxLQUFLQyxpQkFBb0IsY0FBYUQsS0FBS2EsT0FBT0MsbUJBQ3hFZCxLQUFLYSxPQUFPc0IsS0FBT25DLEtBQUthLE9BQU9DLFFBQy9CZCxLQUFLYSxPQUFPOEMsVUFBWSxRQUNqQjNELEtBQUthLE9BQU9zQixLQUFPbkMsS0FBS2EsT0FBT0MsVUFDdENkLEtBQUthLE9BQU84QyxVQUFZLFFBRzVCM0QsS0FBS2EsT0FBT3NCLEtBQU9uQyxLQUFLYSxPQUFPQyxRQUUvQlksSUFBSTFCLEtBQUt5QixRQUFRLENBQUNJLEVBQU85QixLQUNyQjhCLEVBQU00QixPQUFPekQsS0FBS2EsT0FBT0MsUUFBUSxJQUdyQyxNQUFNZixFQUFRNkQsS0FBS0MsTUFBTUQsS0FBS0UsSUFBSTlELEtBQUthLE9BQU9DLFFBQVVkLEtBQUthLE9BQU91QixPQUFTcEMsS0FBS3lCLE9BQU9zQyxRQUVyRi9ELEtBQUtELFFBQVVBLEdBQ2ZDLEtBQUtnRCxTQUFTakQsRUFFdEIsQ0FLQWlFLFVBRUloRSxLQUFLSCxNQUFNb0UsWUFBWWpFLEtBQUtILE1BQ2hDLGtCQzlKSnFFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvQ29sbGVjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFwIGZyb20gXCJsb2Rhc2gvbWFwXCI7XHJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tIFwib2dsXCI7XHJcbmltcG9ydCBHU0FQIGZyb20gXCJnc2FwXCI7XHJcbmltcG9ydCBQcmVmaXggZnJvbSBcInByZWZpeFwiO1xyXG5pbXBvcnQgTWVkaWEgZnJvbSBcIi4vTWVkaWFcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcywgaW5kZXggfSkge1xyXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7IC8vIHNjZW5lIHRoaXMuc2NlbmUgaXMgYSBUcmFuc2Zvcm0oKSBvYmplY3RcclxuICAgICAgICB0aGlzLnNpemVzID0gc2l6ZXM7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoXCJ0cmFuc2Zvcm1cIik7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUcmFuc2Zvcm0oKTsgLy8gc2NlbmUgaXMgYSBUcmFuc2Zvcm0oKSBvYmplY3QgLy8gdGVzdCBsaW5lIHdvcmtzXHJcbiAgICAgICAgLy8gdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKTsgLy8gZ3JvdXAgaXQgZG9lc24ndCB3b3JrXHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGVjdGlvbnNfZ2FsbGVyeVwiKTtcclxuICAgICAgICB0aGlzLmdhbGxlcnlXcmFwcGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGVjdGlvbnNfZ2FsbGVyeV93cmFwcGVyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxlY3Rpb25FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29sbGVjdGlvbnNfYXJ0aWNsZVwiKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3Rpb25FbGVtZW50c0FjdGl2ZSA9IFwiY29sbGVjdGlvbnNfYXJ0aWNsZS0tYWN0aXZlXCI7XHJcbiAgICAgICAgdGhpcy50aXRsZXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGVjdGlvbnNfdGl0bGVzXCIpO1xyXG4gICAgICAgIHRoaXMubWVkaWFzRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbGxlY3Rpb25zX2dhbGxlcnlfbWVkaWFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50OiAwLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBsZXJwOiAwLjEsXHJcbiAgICAgICAgICAgIHZlbG9jaXR5OiAxLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5ncm91cC5zZXRQYXJlbnQoc2NlbmUpOyAvLyBncm91cCBpdCBkb2Vzbid0IHdvcmtcclxuICAgICAgICB0aGlzLnNjZW5lLnNldFBhcmVudChzY2VuZSk7IC8vIHNjZW5lIHNldFBhcmVudCB3b3JrcyBcclxuXHJcbiAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlR2VvbWV0cnkoKSB7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHYWxsZXJ5KCkge1xyXG4gICAgICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhKHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXHJcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcclxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuaW1hdGlvbnMuXHJcbiAgICAgKi9cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiBtZWRpYS5zaG93KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEpID0+IG1lZGlhLmhpZGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudHMuXHJcbiAgICAgKi9cclxuXHJcbiAgICBvblJlc2l6ZShldmVudCkge1xyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBldmVudC5zaXplcztcclxuXHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB0aGlzLmdhbGxlcnlXcmFwcGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvLyB0aGlzLndpZHRoID0gdGhpcy5ib3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLmxhc3QgPSB0aGlzLnNjcm9sbC50YXJnZXQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5ib3VuZHMud2lkdGggLSB0aGlzLm1lZGlhc1swXS5lbGVtZW50LmNsaWVudFdpZHRoO1xyXG5cclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4geyBtZWRpYS5vblJlc2l6ZShldmVudCwgdGhpcy5zY3JvbGwpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwubGFzdCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHguc3RhcnQgLSB4LmVuZDtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ID0gdGhpcy5zY3JvbGwubGFzdCAtIGRpc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hVcCh7IHgsIHkgfSkgeyB9XHJcblxyXG4gICAgb25XaGVlbCh7IHBpeGVsWSB9KSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZS5cclxuICAgICAqL1xyXG5cclxuICAgIG9uQ2hhbmdlKGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RlZENvbGxlY3Rpb24gPSBwYXJzZUludCh0aGlzLm1lZGlhc0VsZW1lbnRzW3RoaXMuaW5kZXhdLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIikpO1xyXG5cclxuICAgICAgICBtYXAodGhpcy5jb2xsZWN0aW9uRWxlbWVudHMsIChlbGVtZW50LCBlbGVtZW50SW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRJbmRleCA9PT0gc2VsZWN0ZWRDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5jb2xsZWN0aW9uRWxlbWVudHNBY3RpdmUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29sbGVjdGlvbkVsZW1lbnRzQWN0aXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRpdGxlc0VsZW1lbnRzLnN0eWxlW3RoaXMudHJhbnNmb3JtUHJlZml4XSA9IGB0cmFuc2xhdGVZKCR7MTUwICogc2VsZWN0ZWRDb2xsZWN0aW9uXHJcbiAgICAgICAgICAgIH0lKSB0cmFuc2xhdGUoLTUwJSwtMjcwJSkgcm90YXRlKC05MGRlZylgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUuXHJcbiAgICAgKi9cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kcykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKC10aGlzLnNjcm9sbC5saW1pdCwgMCwgdGhpcy5zY3JvbGwudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy5zY3JvbGwuY3VycmVudCwgdGhpcy5zY3JvbGwudGFyZ2V0LCB0aGlzLnNjcm9sbC5sZXJwKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5RWxlbWVudC5zdHlsZVt0aGlzLnRyYW5zZm9ybVByZWZpeF0gPSBgdHJhbnNsYXRlWCgke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgsIDAsIDApYDtcclxuICAgICAgICBpZiAodGhpcy5zY3JvbGwubGFzdCA8IHRoaXMuc2Nyb2xsLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlyZWN0aW9uID0gXCJyaWdodFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwubGFzdCA+IHRoaXMuc2Nyb2xsLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlyZWN0aW9uID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbC5sYXN0ID0gdGhpcy5zY3JvbGwuY3VycmVudFxyXG5cclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5hYnModGhpcy5zY3JvbGwuY3VycmVudCAvIHRoaXMuc2Nyb2xsLmxpbWl0KSAqIHRoaXMubWVkaWFzLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ICE9PSBpbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95LlxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIC8vIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0aGlzLnNjZW5lKTtcclxuICAgIH1cclxufVxyXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI1N2NmZGFlMWZkZTEyNjEwNTA0NlwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsImluZGV4IiwidGhpcyIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsIlRyYW5zZm9ybSIsImdhbGxlcnlFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2FsbGVyeVdyYXBwZXJFbGVtZW50IiwiY29sbGVjdGlvbkVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbGxlY3Rpb25FbGVtZW50c0FjdGl2ZSIsInRpdGxlc0VsZW1lbnRzIiwibWVkaWFzRWxlbWVudHMiLCJzY3JvbGwiLCJjdXJyZW50IiwidGFyZ2V0Iiwic3RhcnQiLCJsZXJwIiwidmVsb2NpdHkiLCJjcmVhdGVHZW9tZXRyeSIsImNyZWF0ZUdhbGxlcnkiLCJzZXRQYXJlbnQiLCJzaG93IiwiZ2VvbWV0cnkiLCJQbGFuZSIsIm1lZGlhcyIsIm1hcCIsImVsZW1lbnQiLCJNZWRpYSIsIm1lZGlhIiwiaGlkZSIsIm9uUmVzaXplIiwiZXZlbnQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsYXN0IiwibGltaXQiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwib25Ub3VjaERvd24iLCJ4IiwieSIsIm9uVG91Y2hNb3ZlIiwiZGlzdGFuY2UiLCJlbmQiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxZIiwib25DaGFuZ2UiLCJzZWxlY3RlZENvbGxlY3Rpb24iLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImVsZW1lbnRJbmRleCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwidXBkYXRlIiwiR1NBUCIsImRpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsImFicyIsImxlbmd0aCIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==